<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Python-parallel-collections by gterzian</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Python-parallel-collections</h1>
        <p>Python collections supporting parallel map/reduce style methods</p>

        <p class="view"><a href="https://github.com/gterzian/Python-Parallel-Collections">View the Project on GitHub <small>gterzian/Python-Parallel-Collections</small></a></p>


        <ul>
          <li><a href="https://github.com/gterzian/Python-Parallel-Collections/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/gterzian/Python-Parallel-Collections/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/gterzian/Python-Parallel-Collections">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h3>
<a name="python-parallel-collections" class="anchor" href="#python-parallel-collections"><span class="octicon octicon-link"></span></a>Python Parallel Collections</h3>

<h4>
<a name="implementations-of-dict-and-list-which-support-parallel-mapreduce-style-operations" class="anchor" href="#implementations-of-dict-and-list-which-support-parallel-mapreduce-style-operations"><span class="octicon octicon-link"></span></a>Implementations of dict and list which support parallel map/reduce style operations</h4>

<h4>
<a name="who-said-python-was-not-setup-for-multicore-computing" class="anchor" href="#who-said-python-was-not-setup-for-multicore-computing"><span class="octicon octicon-link"></span></a>Who said Python was not setup for multicore computing?</h4>

<p>In this package you'll find very simple parallel implementations of list, string and dict and a generator. The parallelism uses the <a href="http://pythonhosted.org/futures/#processpoolexecutor-example">Python 2.7 backport</a> of the <a href="http://docs.python.org/dev/library/concurrent.futures.html">concurrent.futures</a> package. If you can define your problem in terms of map/reduce/filter operations, it will run on several parallel Python processes on your machine, taking advantage of multiple cores. 
Otherwise these datastructures are equivalent to the non-parallel ones found in the standard library.</p>

<p>Please note that although the below examples are written in interactive style, due to the nature of multiple processes they might not 
actually work in the interactive interpreter. </p>

<h4>
<a name="getting-started" class="anchor" href="#getting-started"><span class="octicon octicon-link"></span></a>Getting Started</h4>

<div class="highlight highlight-python"><pre><span class="n">pip</span> <span class="n">install</span> <span class="n">python</span><span class="o">-</span><span class="n">parallel</span><span class="o">-</span><span class="n">collections</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">futures</span>
</pre></div>

<div class="highlight highlight-python"><pre><span class="kn">from</span> <span class="nn">parallel.parallel_collections</span> <span class="kn">import</span> <span class="n">ParallelList</span><span class="p">,</span> <span class="n">ParallelDict</span><span class="p">,</span> <span class="n">ParallelString</span><span class="p">,</span> <span class="n">ParellelGen</span>
</pre></div>

<h4>
<a name="examples" class="anchor" href="#examples"><span class="octicon octicon-link"></span></a>Examples</h4>

<div class="highlight highlight-python"><pre><span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">double</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
<span class="o">...</span>     <span class="k">return</span> <span class="n">i</span><span class="o">*</span><span class="mi">2</span>
<span class="o">...</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="n">list_of_list</span> <span class="o">=</span>  <span class="n">ParallelList</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">flat_list</span> <span class="o">=</span> <span class="n">list_of_list</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">list_of_list</span>
<span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">flat_list</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">double</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">list_of_list</span><span class="o">.</span><span class="n">flatmap</span><span class="p">(</span><span class="n">double</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">]</span>
</pre></div>

<p>As you see every method call returns a new collection, instead of changing the current one.
The exception is the foreach method, which is equivalent to map but instead of returning a new collection it operates directly on the 
current one and returns <code>None</code>.  </p>

<div class="highlight highlight-python"><pre><span class="o">&gt;&gt;&gt;</span> <span class="n">flat_list</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">flat_list</span><span class="o">.</span><span class="n">foreach</span><span class="p">(</span><span class="n">double</span><span class="p">)</span>
<span class="bp">None</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">flat_list</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">]</span>
</pre></div>

<p>Since every operation (except foreach) returns a collection, these can be chained.</p>

<div class="highlight highlight-python"><pre><span class="o">&gt;&gt;&gt;</span> <span class="n">list_of_list</span> <span class="o">=</span>  <span class="n">ParallelList</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">list_of_list</span><span class="o">.</span><span class="n">flatmap</span><span class="p">(</span><span class="n">double</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
<span class="p">[</span><span class="s">'2'</span><span class="p">,</span> <span class="s">'4'</span><span class="p">,</span> <span class="s">'6'</span><span class="p">,</span> <span class="s">'8'</span><span class="p">,</span> <span class="s">'10'</span><span class="p">,</span> <span class="s">'12'</span><span class="p">]</span>
</pre></div>

<h4>
<a name="when-to-use-the-parallelgen-class" class="anchor" href="#when-to-use-the-parallelgen-class"><span class="octicon octicon-link"></span></a>When to use the ParallelGen class?</h4>

<p>The ParallelGen class should be used in the same cases that you would normally use a generator: to avoid the evaluation of an intermittent datastructure. With the parallel generator, you can chain map/filter/reduce calls without evaluating the entire datastructure on every operation, just like you would when building data processing pipelines using a chain of generator functions. Each element in the datastructure will be processed one by one. This is a great way to save memory and work with potentially large or infinite streams of data. </p>

<p>The below example illustrates this. Note each operation on the parallel list results in the entire list being evaluated before the next operation, while the generator allows every element go through each step before sending the next one in. 
Also note the the generator will not result in anything happening unless you actually do something to evaluate it (such as the list comprehension does in the below example). </p>

<div class="highlight highlight-python"><pre><span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">_print</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
<span class="o">...</span>     <span class="k">print</span> <span class="n">item</span> 
<span class="o">...</span>     <span class="k">return</span> <span class="n">item</span>
<span class="o">...</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">double</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
<span class="o">...</span>     <span class="k">return</span> <span class="n">item</span> <span class="o">*</span> <span class="mi">2</span> 
<span class="o">...</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="n">plist</span> <span class="o">=</span> <span class="n">ParallelList</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">plist</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">double</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">_print</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">double</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">_print</span><span class="p">)]</span>
<span class="mi">0</span>
<span class="mi">2</span>
<span class="mi">4</span>
<span class="mi">6</span>
<span class="mi">8</span>
<span class="mi">0</span>
<span class="mi">4</span>
<span class="mi">8</span>
<span class="mi">12</span>
<span class="mi">16</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">pgen</span> <span class="o">=</span> <span class="n">ParallelGen</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">pgen</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">double</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">_print</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">double</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">_print</span><span class="p">)]</span>
<span class="mi">0</span>
<span class="mi">0</span>
<span class="mi">2</span>
<span class="mi">4</span>
<span class="mi">4</span>
<span class="mi">8</span>
<span class="mi">6</span>
<span class="mi">12</span>
<span class="mi">8</span>
<span class="mi">16</span>
</pre></div>

<h4>
<a name="regarding-lambdas-and-closures" class="anchor" href="#regarding-lambdas-and-closures"><span class="octicon octicon-link"></span></a>Regarding lambdas and closures</h4>

<p>Sadly lambdas, closures and partial functions cannot be passed around multiple processes, so every function that you pass to the collection methods needs to be defined using the def statement. If you want the operation to carry extra state, use a class with a <code>__call__</code> method defined.</p>

<div class="highlight highlight-python"><pre><span class="o">&gt;&gt;&gt;</span> <span class="k">class</span> <span class="nc">multiply</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="o">...</span>     <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">factor</span><span class="p">):</span>
<span class="o">...</span>         <span class="bp">self</span><span class="o">.</span><span class="n">factor</span> <span class="o">=</span> <span class="n">factor</span>
<span class="o">...</span>     <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
<span class="o">...</span>         <span class="k">return</span> <span class="n">item</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">factor</span>
<span class="o">...</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="n">multiply</span><span class="p">(</span><span class="mi">2</span><span class="p">)(</span><span class="mi">3</span><span class="p">)</span>
<span class="mi">6</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">list_of_list</span> <span class="o">=</span>  <span class="n">ParallelList</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">list_of_list</span><span class="o">.</span><span class="n">flatmap</span><span class="p">(</span><span class="n">multiply</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">]</span>
</pre></div>

<h3>
<a name="quick-examples-of-map-reduce-and-filter" class="anchor" href="#quick-examples-of-map-reduce-and-filter"><span class="octicon octicon-link"></span></a>Quick examples of map, reduce and filter</h3>

<h4>
<a name="map-and-flatmap" class="anchor" href="#map-and-flatmap"><span class="octicon octicon-link"></span></a>Map and FlatMap</h4>

<p>Functions passed to the map method of a list will be passed every element in the list and should return a single element. For a dict, the function will receive a tuple (key, values) for every key in the dict, and should equally return a two element sequence. Flatmap will first flatten the sequence then apply map to it.</p>

<div class="highlight highlight-python"><pre><span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">double</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
<span class="o">...</span>    <span class="k">return</span> <span class="n">item</span> <span class="o">*</span> <span class="mi">2</span>
<span class="o">...</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">list_of_list</span> <span class="o">=</span>  <span class="n">ParallelList</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">list_of_list</span><span class="o">.</span><span class="n">flatmap</span><span class="p">(</span><span class="n">double</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
<span class="p">[</span><span class="s">'2'</span><span class="p">,</span> <span class="s">'4'</span><span class="p">,</span> <span class="s">'6'</span><span class="p">,</span> <span class="s">'8'</span><span class="p">,</span> <span class="s">'10'</span><span class="p">,</span> <span class="s">'12'</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">double_dict</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
<span class="o">...</span>     <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="o">=</span> <span class="n">item</span>
<span class="o">...</span>     <span class="k">try</span><span class="p">:</span>
<span class="o">...</span>         <span class="k">return</span> <span class="p">[</span><span class="n">k</span><span class="p">,</span> <span class="p">[</span><span class="n">i</span> <span class="o">*</span><span class="mi">2</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">v</span><span class="p">]]</span>
<span class="o">...</span>     <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
<span class="o">...</span>         <span class="k">return</span> <span class="p">[</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="o">*</span> <span class="mi">2</span><span class="p">]</span>
<span class="o">...</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span> <span class="o">=</span> <span class="n">ParallelDict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="p">[[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]]))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span>
<span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]],</span> <span class="mi">1</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">flat_mapped</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">flatmap</span><span class="p">(</span><span class="n">double_dict</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">flat_mapped</span>
<span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span> <span class="mi">1</span><span class="p">:</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">]}</span>

<span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">to_upper</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
<span class="o">...</span>     <span class="k">return</span> <span class="n">item</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> 
<span class="o">...</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="n">p</span> <span class="o">=</span> <span class="n">ParallelString</span><span class="p">(</span><span class="s">'qwerty'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">mapped</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">to_upper</span><span class="p">)</span>
<span class="s">'QWERTY'</span>
</pre></div>

<h4>
<a name="reduce" class="anchor" href="#reduce"><span class="octicon octicon-link"></span></a>Reduce</h4>

<p>Reduce accepts an optional initializer, which will be passed as the first argument to every call to the function passed as reducer</p>

<div class="highlight highlight-python"><pre><span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">group_letters</span><span class="p">(</span><span class="nb">all</span><span class="p">,</span> <span class="n">letter</span><span class="p">):</span>
<span class="o">...</span>     <span class="nb">all</span><span class="p">[</span><span class="n">letter</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">letter</span><span class="p">)</span>
<span class="o">...</span>     <span class="k">return</span> <span class="nb">all</span>
<span class="o">...</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="n">p</span> <span class="o">=</span> <span class="n">ParallelList</span><span class="p">([</span><span class="s">'a'</span><span class="p">,</span> <span class="s">'a'</span><span class="p">,</span> <span class="s">'b'</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">reduced</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">reduce</span><span class="p">(</span><span class="n">group_letters</span><span class="p">,</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">))</span>
<span class="p">{</span><span class="s">'a'</span><span class="p">:</span> <span class="p">[</span><span class="s">'a'</span><span class="p">,</span> <span class="s">'a'</span><span class="p">],</span> <span class="s">'b'</span><span class="p">:</span> <span class="p">[</span><span class="s">'b'</span><span class="p">]}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">p</span> <span class="o">=</span> <span class="n">ParallelString</span><span class="p">(</span><span class="s">'aab'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">p</span><span class="o">.</span><span class="n">reduce</span><span class="p">(</span><span class="n">group_letters</span><span class="p">,</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">))</span>
<span class="p">{</span><span class="s">'a'</span><span class="p">:</span> <span class="p">[</span><span class="s">'a'</span><span class="p">,</span> <span class="s">'a'</span><span class="p">],</span> <span class="s">'b'</span><span class="p">:</span> <span class="p">[</span><span class="s">'b'</span><span class="p">]}</span>
</pre></div>

<h4>
<a name="filter" class="anchor" href="#filter"><span class="octicon octicon-link"></span></a>Filter</h4>

<p>The Filter method should be passed a predicate, which means a function that will return True or False and will be called once for every element in the list and for every (key, values) in a dict.</p>

<div class="highlight highlight-python"><pre><span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">is_digit</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
<span class="o">...</span>     <span class="k">return</span> <span class="n">item</span><span class="o">.</span><span class="n">isdigit</span><span class="p">()</span>
<span class="o">...</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">p</span> <span class="o">=</span> <span class="n">ParallelList</span><span class="p">([</span><span class="s">'a'</span><span class="p">,</span><span class="s">'2'</span><span class="p">,</span><span class="s">'3'</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">pred</span> <span class="o">=</span> <span class="n">is_digit</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">filtered</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">pred</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">filtered</span>
<span class="p">[</span><span class="s">'2'</span><span class="p">,</span> <span class="s">'3'</span><span class="p">]</span>

<span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">is_digit_dict</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
<span class="o">...</span>    <span class="k">return</span> <span class="n">item</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">isdigit</span><span class="p">()</span>
<span class="o">...</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">p</span> <span class="o">=</span> <span class="n">ParallelDict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="p">[</span><span class="s">'a'</span><span class="p">,</span><span class="s">'2'</span><span class="p">,</span> <span class="s">'3'</span><span class="p">,]))</span>
<span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s">'a'</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s">'2'</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s">'3'</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">pred</span> <span class="o">=</span> <span class="n">is_digit_dict</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">filtered</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">pred</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">filtered</span>
<span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s">'2'</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s">'3'</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">p</span> <span class="o">=</span> <span class="n">ParallelString</span><span class="p">(</span><span class="s">'a23'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">p</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">is_digit</span><span class="p">)</span>
<span class="s">'23'</span>
</pre></div>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/gterzian">gterzian</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-46017131-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>